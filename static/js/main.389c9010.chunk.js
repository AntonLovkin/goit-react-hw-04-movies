(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{37:function(t,e,n){},38:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(30),i=n.n(s),r=(n(37),n(38),n(7)),o=n(2),h=n(19),l=n.n(h),u=n(31),j=n(9),v=n(10),b=n(12),p=n(11),d=n(13),m=n.n(d),O=n(0),f=function(t){Object(b.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={movies:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat("3648f672b1c21855bded6f7b57b6e29a"));case 2:e=t.sent,this.setState({movies:e.data.results});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"HomePage"}),Object(O.jsx)("ul",{children:this.state.movies.map((function(t){return Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/movies/".concat(t.id),children:t.title})},t.id)}))})]})}}]),n}(c.Component),x={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"3648f672b1c21855bded6f7b57b6e29a",fetchTrendingMovies:function(){return m.a.get("".concat(this.BASE_URL,"/trending/all/day?api_key=").concat(this.API_KEY)).then((function(t){return t.data.results}))},fetchMoviesWithSearchQuery:function(t){return m.a.get("".concat(this.BASE_URL,"/search/movie?api_key=").concat(this.API_KEY,"&query=").concat(t)).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return m.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"?api_key=").concat(this.API_KEY)).then((function(t){return t.data}))},fetchMovieReviews:function(t){return m.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"/reviews?api_key=").concat(this.API_KEY)).then((function(t){return t.data.results}))},fetchMovieCast:function(t){return m.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"/credits?api_key=").concat(this.API_KEY)).then((function(t){return t.data.cast}))}};var g=Object(o.f)((function(t){var e=t.movies,n=t.location;return Object(O.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.title,a=t.name;return Object(O.jsx)("li",{children:Object(O.jsxs)(r.b,{to:{pathname:"movies/".concat(e),state:{from:n}},className:"movie-link",children:[" ",c||a]})},e)}))})})),y=function(t){Object(b.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={movies:[],value:""},t.renderMovies=function(e){e.preventDefault(),x.fetchMoviesWithSearchQuery(t.state.value).then((function(e){t.setState({movies:e}),console.log(t.state.movies),0===t.state.movies.length&&alert("We could not find movies with this query")}))},t.setValue=function(e){t.setState({value:e.target.value})},t}return Object(v.a)(n,[{key:"render",value:function(){var t=this.state,e=t.value,n=t.movies;return console.log(n),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:this.renderMovies,children:[Object(O.jsx)("input",{type:"text",value:e,onChange:this.setValue,className:"input"}),Object(O.jsx)("button",{type:"submit",children:"Search"})]}),n.length>0&&Object(O.jsx)(g,{movies:n})]})}}]),n}(c.Component),w=n(16),k=function(t){Object(b.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={cast:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;x.fetchMovieCast(this.props.match.params.movieId).then((function(e){return t.setState({cast:e})})),console.log(this.state.cast),console.log(this.props.match.params.movieId)}},{key:"render",value:function(){return console.log(this.state.cast),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Cast List"}),Object(O.jsx)("ul",{className:"cast-list",children:this.state.cast.map((function(t){var e=t.id,n=t.profile_path,c=t.name,a=t.character;return Object(O.jsx)("li",{children:Object(O.jsxs)("div",{className:"cast-container",children:[Object(O.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300","/").concat(n),alt:c,className:"cast-container_img"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:c}),Object(O.jsx)("p",{children:a})]})]})},e)}))})]})}}]),n}(c.Component),_=function(t){Object(b.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={reviews:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;x.fetchMovieReviews(this.props.match.params.movieId).then((function(e){return t.setState({reviews:e})})),console.log(this.state.reviews),console.log(this.props.match.params.movieId)}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Reviews List"}),this.state.reviews.length>0?Object(O.jsx)("ul",{children:this.state.reviews.map((function(t){var e=t.id,n=t.author,c=t.content;return Object(O.jsxs)("li",{children:[Object(O.jsx)("h3",{children:n}),Object(O.jsx)("p",{children:c})]},e)}))}):Object(O.jsx)("h1",{children:"Hello!! There is no reviews yet"})]})}}]),n}(c.Component),M=function(t){Object(b.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={genres:[],poster_path:null,overview:null,title:null,vote_average:null},t.handleGoBack=function(){var e=t.props,n=e.location,c=e.history;if(n.state&&n.state.from)return c.push(n.state.from);c.push("".concat("/"))},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;x.fetchMovieDetails(this.props.match.params.movieId).then((function(e){return t.setState(Object(w.a)({},e))}))}},{key:"render",value:function(){var t=this,e=(this.props.match.params.movieId,this.props.location,this.state),n=e.genres,c=e.poster_path,a=e.overview,s=e.title,i=e.vote_average;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",onClick:this.handleGoBack,className:"back-button",children:"Go Back"}),Object(O.jsxs)("h1",{children:["MovieDetailsPage-",this.props.match.params.movieId]}),Object(O.jsx)("h2",{children:s}),Object(O.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(c),alt:s}),Object(O.jsxs)("h2",{children:["Movie rating: ",i]}),Object(O.jsx)("h2",{children:"Overview"}),Object(O.jsx)("p",{children:a}),Object(O.jsx)("h2",{children:"Genres"}),Object(O.jsx)("ul",{children:n.map((function(t){var e=t.id,n=t.name;return Object(O.jsx)("li",{children:n},e)}))}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(r.c,{to:"".concat(this.props.match.url,"/cast"),children:"Cast"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.c,{to:"".concat(this.props.match.url,"/reviews"),children:"Reviews"})})]}),Object(O.jsx)(o.a,{path:"".concat(this.props.match.path,"/cast"),render:function(e){return Object(O.jsx)(k,Object(w.a)(Object(w.a)({},e),{},{movies:t.state.movies}))}}),Object(O.jsx)(o.a,{path:"".concat(this.props.match.path,"/reviews"),component:_})]})}}]),n}(c.Component),S=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/",children:"HomePage"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/movies",children:"MoviesPage"})})]}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:f}),Object(O.jsx)(o.a,{exact:!0,path:"/movies",component:y}),Object(O.jsx)(o.a,{path:"/movies/:movieId",component:M})]})]})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),s(t),i(t)}))};i.a.render(Object(O.jsxs)(a.a.StrictMode,{children:[Object(O.jsx)(r.a,{children:Object(O.jsx)(S,{})}),","]}),document.getElementById("root")),A()}},[[67,1,2]]]);
//# sourceMappingURL=main.389c9010.chunk.js.map