(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{37:function(t,e,n){},38:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),i=n(30),s=n.n(i),r=(n(37),n(38),n(7)),o=n(2),h=n(19),l=n.n(h),u=n(31),j=n(9),v=n(10),m=n(12),b=n(11),d=n(14),p=n.n(d),f={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"3648f672b1c21855bded6f7b57b6e29a",fetchTrendingMovies:function(){return p.a.get("".concat(this.BASE_URL,"/trending/all/day?api_key=").concat(this.API_KEY)).then((function(t){return t.data.results}))},fetchMoviesWithSearchQuery:function(t){return p.a.get("".concat(this.BASE_URL,"/search/movie?api_key=").concat(this.API_KEY,"&query=").concat(t)).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return p.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"?api_key=").concat(this.API_KEY)).then((function(t){return t.data}))},fetchMovieReviews:function(t){return p.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"/reviews?api_key=").concat(this.API_KEY)).then((function(t){return t.data.results}))},fetchMovieCast:function(t){return p.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"/credits?api_key=").concat(this.API_KEY)).then((function(t){return t.data.cast}))}},O=n(0),x=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={movies:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.fetchTrendingMovies().then((function(t){e.setState({movies:t})}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.movies.location;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"HomePage"}),Object(O.jsx)("ul",{children:this.state.movies.map((function(e){var n=e.id,c=e.title;return Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:{pathname:"movies/".concat(n),state:{from:t}},children:c})},n)}))})]})}}]),n}(c.Component);var g=Object(o.f)((function(t){var e=this,n=t.movies,c=t.location;return Object(O.jsx)("ul",{children:n.map((function(t){var n=t.id,a=t.title,i=t.name;return Object(O.jsx)("li",{children:Object(O.jsxs)(r.b,{onClick:e.onCategoryChange,to:{pathname:"movies/".concat(n),state:{from:c}},className:"movie-link",children:[" ",a||i]})},n)}))})})),y=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={movies:[],value:""},t.renderMovies=function(e){e.preventDefault(),f.fetchMoviesWithSearchQuery(t.state.value).then((function(e){t.setState({movies:e}),0===t.state.movies.length&&alert("We could not find movies with this query")}))},t.setValue=function(e){t.setState({value:e.target.value})},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("movies"),e=JSON.parse(t);e&&this.setState({movies:e})}},{key:"render",value:function(){var t=this.state,e=t.value,n=t.movies;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:this.renderMovies,children:[Object(O.jsx)("input",{type:"text",value:e,onChange:this.setValue,className:"input"}),Object(O.jsx)("button",{type:"submit",children:"Search"})]}),n.length>0&&Object(O.jsx)(g,{movies:n})]})}}]),n}(c.Component),w=n(17),k=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={cast:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;f.fetchMovieCast(this.props.match.params.movieId).then((function(e){return t.setState({cast:e})})),console.log(this.state.cast)}},{key:"render",value:function(){return console.log(this.state.cast),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Cast List"}),Object(O.jsx)("ul",{className:"cast-list",children:this.state.cast.map((function(t){var e=t.id,n=t.profile_path,c=t.name,a=t.character;return Object(O.jsx)("li",{children:Object(O.jsxs)("div",{className:"cast-container",children:[Object(O.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300","/").concat(n),alt:c,className:"cast-container_img"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:c}),Object(O.jsx)("p",{children:a})]})]})},e)}))})]})}}]),n}(c.Component),_=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={reviews:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;f.fetchMovieReviews(this.props.match.params.movieId).then((function(e){return t.setState({reviews:e})}))}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Reviews List"}),this.state.reviews.length>0?Object(O.jsx)("ul",{children:this.state.reviews.map((function(t){var e=t.id,n=t.author,c=t.content;return Object(O.jsxs)("li",{children:[Object(O.jsx)("h3",{children:n}),Object(O.jsx)("p",{children:c})]},e)}))}):Object(O.jsx)("h1",{children:"Hello!! There is no reviews yet"})]})}}]),n}(c.Component),M={home:"/",movies:"/movies",detailsMovies:"/movies/:movieId",cast:"/movies/:movieId/cast",reviews:"/movies/:movieId/reviews"},S=(n(67),function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={genres:[],poster_path:null,overview:null,title:null,vote_average:null},t.handleGoBack=function(){console.log("handleGoBack");var e=t.props,n=e.location,c=e.history;if(n.state&&n.state.from)return c.push(n.state.from);c.push("".concat("/"))},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;f.fetchMovieDetails(this.props.match.params.movieId).then((function(e){return t.setState(Object(w.a)({},e))}))}},{key:"render",value:function(){var t=this,e=this.props.match.params.movieId,n=this.props.location,c=this.state,a=c.genres,i=c.poster_path,s=c.overview,h=c.title,l=c.vote_average;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",onClick:this.handleGoBack,className:"back-button",children:"Go Back"}),Object(O.jsx)("h2",{children:h}),Object(O.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(i),alt:h}),Object(O.jsxs)("h2",{children:["Movie rating: ",l]}),Object(O.jsx)("h2",{children:"Overview"}),Object(O.jsx)("p",{children:s}),Object(O.jsx)("h2",{children:"Genres"}),Object(O.jsx)("ul",{children:a.map((function(t){var e=t.id,n=t.name;return Object(O.jsx)("li",{children:n},e)}))}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(r.c,{to:{pathname:"".concat(M.movies,"/").concat(e,"/cast"),state:{from:n.state.from}},children:"Cast"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.c,{to:{pathname:"".concat(M.movies,"/").concat(e,"/reviews"),state:{from:n.state.from}},children:"Reviews"})})]}),Object(O.jsx)(o.a,{path:"".concat(this.props.match.path,"/cast"),render:function(e){return Object(O.jsx)(k,Object(w.a)(Object(w.a)({},e),{},{movies:t.state.movies}))}}),Object(O.jsx)(o.a,{path:"".concat(this.props.match.path,"/reviews"),component:_})]})}}]),n}(c.Component)),A=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/",children:"HomePage"})}),Object(O.jsx)("li",{children:Object(O.jsx)(r.b,{to:"/movies",children:"MoviesPage"})})]}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:x}),Object(O.jsx)(o.a,{exact:!0,path:"/movies",component:y}),Object(O.jsx)(o.a,{path:"/movies/:movieId",component:S})]})]})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),i(t),s(t)}))};s.a.render(Object(O.jsxs)(a.a.StrictMode,{children:[Object(O.jsx)(r.a,{children:Object(O.jsx)(A,{})}),","]}),document.getElementById("root")),C()}},[[69,1,2]]]);
//# sourceMappingURL=main.761fbd9e.chunk.js.map