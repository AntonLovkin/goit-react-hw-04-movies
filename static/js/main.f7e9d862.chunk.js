(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{37:function(t,e,n){},38:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),i=n(30),r=n.n(i),s=(n(37),n(38),n(7)),o=n(2),h=n(19),l=n.n(h),u=n(31),j=n(9),v=n(10),b=n(12),m=n(11),p=n(14),d=n.n(p),O={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"3648f672b1c21855bded6f7b57b6e29a",fetchTrendingMovies:function(){return d.a.get("".concat(this.BASE_URL,"/trending/all/day?api_key=").concat(this.API_KEY)).then((function(t){return t.data.results}))},fetchMoviesWithSearchQuery:function(t){return d.a.get("".concat(this.BASE_URL,"/search/movie?api_key=").concat(this.API_KEY,"&query=").concat(t)).then((function(t){return t.data.results}))},fetchMovieDetails:function(t){return d.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"?api_key=").concat(this.API_KEY)).then((function(t){return t.data}))},fetchMovieReviews:function(t){return d.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"/reviews?api_key=").concat(this.API_KEY)).then((function(t){return t.data.results}))},fetchMovieCast:function(t){return d.a.get("".concat(this.BASE_URL,"/movie/").concat(t,"/credits?api_key=").concat(this.API_KEY)).then((function(t){return t.data.cast}))}},f=n(0),x=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={movies:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.fetchTrendingMovies().then((function(t){e.setState({movies:t})})),localStorage.setItem("movies",JSON.stringify([]));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"HomePage"}),Object(f.jsx)("ul",{children:this.state.movies.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:"/movies/".concat(t.id),children:t.title})},t.id)}))})]})}}]),n}(c.Component);var g=Object(o.f)((function(t){var e=t.movies,n=t.location;return Object(f.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.title,a=t.name;return Object(f.jsx)("li",{children:Object(f.jsxs)(s.b,{to:{pathname:"movies/".concat(e),state:{from:n}},className:"movie-link",children:[" ",c||a]})},e)}))})})),y=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={movies:JSON.parse(localStorage.getItem("movies")),value:""},t.renderMovies=function(e){e.preventDefault(),O.fetchMoviesWithSearchQuery(t.state.value).then((function(e){t.setState({movies:e}),localStorage.setItem("movies",JSON.stringify(e)),0===t.state.movies.length&&alert("We could not find movies with this query")}))},t.setValue=function(e){t.setState({value:e.target.value})},t}return Object(v.a)(n,[{key:"render",value:function(){var t=this.state,e=t.value,n=t.movies;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("form",{onSubmit:this.renderMovies,children:[Object(f.jsx)("input",{type:"text",value:e,onChange:this.setValue,className:"input"}),Object(f.jsx)("button",{type:"submit",children:"Search"})]}),n.length>0&&Object(f.jsx)(g,{movies:n})]})}}]),n}(c.Component),w=n(16),S=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={cast:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;O.fetchMovieCast(this.props.match.params.movieId).then((function(e){return t.setState({cast:e})})),console.log(this.state.cast)}},{key:"render",value:function(){return console.log(this.state.cast),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Cast List"}),Object(f.jsx)("ul",{className:"cast-list",children:this.state.cast.map((function(t){var e=t.id,n=t.profile_path,c=t.name,a=t.character;return Object(f.jsx)("li",{children:Object(f.jsxs)("div",{className:"cast-container",children:[Object(f.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300","/").concat(n),alt:c,className:"cast-container_img"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:c}),Object(f.jsx)("p",{children:a})]})]})},e)}))})]})}}]),n}(c.Component),k=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={reviews:[]},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;O.fetchMovieReviews(this.props.match.params.movieId).then((function(e){return t.setState({reviews:e})}))}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Reviews List"}),this.state.reviews.length>0?Object(f.jsx)("ul",{children:this.state.reviews.map((function(t){var e=t.id,n=t.author,c=t.content;return Object(f.jsxs)("li",{children:[Object(f.jsx)("h3",{children:n}),Object(f.jsx)("p",{children:c})]},e)}))}):Object(f.jsx)("h1",{children:"Hello!! There is no reviews yet"})]})}}]),n}(c.Component),_=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={genres:[],poster_path:null,overview:null,title:null,vote_average:null},t.handleGoBack=function(){var e=t.props,n=e.location,c=e.history;if(n.state&&n.state.from)return c.push(n.state.from);c.push("".concat("/"))},t}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=this;O.fetchMovieDetails(this.props.match.params.movieId).then((function(e){return t.setState(Object(w.a)({},e))}))}},{key:"render",value:function(){var t=this,e=(this.props.match.params.movieId,this.props.location,this.state),n=e.genres,c=e.poster_path,a=e.overview,i=e.title,r=e.vote_average;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{type:"button",onClick:this.handleGoBack,className:"back-button",children:"Go Back"}),Object(f.jsxs)("h1",{children:["MovieDetailsPage-",this.props.match.params.movieId]}),Object(f.jsx)("h2",{children:i}),Object(f.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(c),alt:i}),Object(f.jsxs)("h2",{children:["Movie rating: ",r]}),Object(f.jsx)("h2",{children:"Overview"}),Object(f.jsx)("p",{children:a}),Object(f.jsx)("h2",{children:"Genres"}),Object(f.jsx)("ul",{children:n.map((function(t){var e=t.id,n=t.name;return Object(f.jsx)("li",{children:n},e)}))}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(s.c,{to:"".concat(this.props.match.url,"/cast"),children:"Cast"})}),Object(f.jsx)("li",{children:Object(f.jsx)(s.c,{to:"".concat(this.props.match.url,"/reviews"),children:"Reviews"})})]}),Object(f.jsx)(o.a,{path:"".concat(this.props.match.path,"/cast"),render:function(e){return Object(f.jsx)(S,Object(w.a)(Object(w.a)({},e),{},{movies:t.state.movies}))}}),Object(f.jsx)(o.a,{path:"".concat(this.props.match.path,"/reviews"),component:k})]})}}]),n}(c.Component),M=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:"/",children:"HomePage"})}),Object(f.jsx)("li",{children:Object(f.jsx)(s.b,{to:"/movies",children:"MoviesPage"})})]}),Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/",component:x}),Object(f.jsx)(o.a,{exact:!0,path:"/movies",component:y}),Object(f.jsx)(o.a,{path:"/movies/:movieId",component:_})]})]})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))};r.a.render(Object(f.jsxs)(a.a.StrictMode,{children:[Object(f.jsx)(s.a,{children:Object(f.jsx)(M,{})}),","]}),document.getElementById("root")),A()}},[[67,1,2]]]);
//# sourceMappingURL=main.f7e9d862.chunk.js.map